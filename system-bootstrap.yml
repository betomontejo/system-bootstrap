---
- hosts: localhost

  tasks:

    - name: "Add GIT PPA repoistory"
      apt_repository: 
        repo: "ppa:git-core/ppa"
        state: present
      become: true

    - name: "Update APT cache"
      apt:
        update_cache: yes
      become: true

    - name: "Install APT packages"
      apt:
        pkg: "{{ item }}"
      with_items:
        - zip
        - unzip
        - git
      become: true

    - name: "Install SDKMAN!"
      shell: curl -s "https://get.sdkman.io" | bash
 
    - name: "Install SDKMAN candiates"
      shell: |
          set -e
          source ~/.sdkman/bin/sdkman-init.sh
          sdk install {{ item }}
      args:
        executable: "/bin/bash"
      with_items: 
       - java
      
